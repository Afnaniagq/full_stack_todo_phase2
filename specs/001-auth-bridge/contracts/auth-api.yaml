openapi: 3.0.0
info:
  title: Authentication API
  description: API for JWT verification and user authentication
  version: 1.0.0
servers:
  - url: http://localhost:8000
    description: Local development server

paths:
  /api/auth/verify:
    post:
      summary: Verify JWT token
      description: Verifies a JWT token generated by the frontend and returns user information
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  description: JWT token to verify
                  example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
      responses:
        '200':
          description: Token is valid
          content:
            application/json:
              schema:
                type: object
                properties:
                  valid:
                    type: boolean
                    example: true
                  user_id:
                    type: string
                    format: uuid
                    example: "550e8400-e29b-41d4-a716-446655440000"
                  claims:
                    type: object
                    description: JWT claims
                    properties:
                      sub:
                        type: string
                        format: uuid
                        example: "550e8400-e29b-41d4-a716-446655440000"
                      exp:
                        type: integer
                        example: 1640995200
                      iat:
                        type: integer
                        example: 1640991600
        '401':
          description: Token is invalid or expired
          content:
            application/json:
              schema:
                type: object
                properties:
                  valid:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Invalid token"